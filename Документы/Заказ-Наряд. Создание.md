- [x] ==В режиме редактирования==
Создание нового документа.
### **Макет 
-  [[ЗН.Создание.svg]]
### **LEFT MENU
- [[ЛК.Заказ-Наряд#**LEFT MENU]]
### **HEADER**
- [[ЛК.Заказ-Наряд#**HEADER**]]
### **Форма создания нового заказ-наряда
- Меню выбора параметра "Тип ремонта"
	- Сервисное обслуживание / Ремонт
	- Гарантийный / Повторный
	- Договор обслуживания (надо подумать как обозначить юриков)
- Кнопка "Заполнить по записи"
	*Открывает список документов "Предварительная запись"*
		Отображаются документы имеющие статус "Новый"; "Перенос записи"; "Завершен"
		После выбора статус документа "Предварительная запись" становится "Завершен"
		Поля документа заполняются автоматически из выбранного документа
- Кнопка "Заполнить по смете"
	*Открывает список документов "Смета"*
		Документы имеют статус "Новый"; "Завершен"
		После выбора, статус документа "Смета" становится "Завершен"
		Поля документа заполняются автоматически из выбранного документа
- Поля заполнения информации
	1. Номер телефона. Корректные символы цифры от 0 до 9, символ +. Максимальная длинна поля 12. (При вводу осуществляется поиск по базе клиентов на предмет соответствия номера телефона. При совпадении отражается номер телефона клиента. После выбора телефона из БД производится автозаполнение всех полей кроме "Пробег". 
		- ***Автозаполненные поля изменяемые при условии изменения авто. Данные вносятся в БД в графу "Телефон") Обязательная графа для заполнения
	2. Марка (автозаполнение по базе автомобилей по мере ввода информации. Данные вносятся в БД в графу "Марка") Обязательная графа для заполнения
	3. Модель (автозаполнение по базе автомобилей по мере ввода информации. Данные вносятся в БД в графу "Модель") Обязательная графа для заполнения
	4. Год (ручное заполнение. Корректные символы цифры от 0 до 9. Длинна поля ввода Данные вносятся в БД в графу "Год")  Обязательная графа для заполнения
	5. Пробег (ручное заполнение. Корректные символы цифры от 0 до 9. Длинна поля ввода 6. Данные вносятся в БД в графу "пробег") Обязательная графа для заполнения. 
		- **Данные могут быть изменены при любом статусе документа**
	6. VIN/Номер кузова (ручной ввод. Корректные символы Латиница от A до Z, цифры от 0 до 9, символы "-", максимальная длинна 20. Вносятся в ДБ в графу Номер кузова) Не обязательная графа для заполнения. 
		- **Возможно использование данных ГИБДД**
	7. Привод (выплывающий список. Три варианта AWD, R, F. Данные вносятся в базу данных в графу "привод")  Обязательная графа для заполнения
	8. Топливо (выплывающий список. Четыре значения : Бензин, Дизель, Электро, Гибрид. Данные вносятся в БД в графу "Топливо")  Обязательная графа для заполнения
	9. Фамилия (Корректные символы от А до Я, символ "-", "пробел". Максимальная длинна поля 20. Данные вносятся в БД в графу "Фамилия")  
		- **Не Обязательная графа для заполнения**
	10. Имя (Корректные символы от А до Я, символ "-", "пробел". Максимальная длинна поля 20. Данные вносятся в БД в графу "Имя")  Обязательная графа для заполнения
	11. Гос.номер ( Корректные символы от А до Я, Цифры от 0 до 9. Максимальная длинна 10) Обязательная графа для заполнения.
	12. Механик (Корректные символы от А до Я, проверка по ID станции механиков. Автозаполнение при совпадении).
		- **Данные могут быть изменены при любом статусе документа**
- Кнопка "Создать"
	- проверка корректности всех полей
	- создаётся новый документ "заказ-наряд"
	- Документу присваивается ID, текущая дата.
	- Документу присваивается статус "В работе" если документ заполнен на основании другого документа
	- Документу присваивается статус "Новый" если данные введены в ручную
	- Перенаправление на страницу "[[Заказ-Наряд. Работа с документом]]"